## 삽질의 과정
이 문제는 엄청나게 오래동안 날 괴롭혔던 문제다. `서로 길이가 다른 경우`를 도대체 어떻게 처리해야 하는지 때문에 몇 번을 풀기를 도전했다가 풀지 못했었다.

처음에는 `주어지는 배열 자체로 어떻게든 정렬을 시도하려다가 실패`했다. 처음이 아니라 거의 모든 경우를 그렇게 시도하다가 포기했다.

그러다 오늘 `굳이 정렬할 게 아니라 먼저 나와야 하는 값이 먼저 나오기만 하면 되는거 아닌가` 싶어서 _*우선수위 큐*_ 를 적용해 봤다.

우선순위 큐로 접근하니 그나마 문제의 해결이 쉬워졌다. 그런데, 역시 대소비교를 하는 과정에서 문제에 맞닥뜨렸다.

여러 반례들을 찾아보며 접근하던 도중 한 분의 기가막힌 비교 방법을 확인했고, 이를 바탕으로 문제를 해결할 수 있었다.

아래는 `대소비교를 어떻게 할 것인가?` 에 대한 해답이다


## 해결 방법

주어지는 배열에는 기본적으로 문자열이 들어가 있다. 즉, `A+B와 B+A는 다르다.`

우선순위 큐를 통해 비교하기 위한 객체에도 마찬가지로 String 값이 들어간다. 우리는 이 String을 가지고 비교한다.

CompareTo는 두 개의 경우만 비교하면 된다. 내가 큰지, 나랑 비교하는 다른 놈이 큰지.

여기서 다시 한 번 A+B와 B+A가 다르다는 점을 생각하면 문제의 해결이 굉장히 쉬워진다.

그냥 `A+B와 B+A 중 더 큰 쪽을 선택`하면 되는 것이다.

예를 들어, "312"과 "31"을 비교한다고 해보자. 두 수로 만들 수 있는 경우의 수는 "31213"과 "31312" 가 있다. 

이 때 "31312"가 "31213"보다 크다. 즉, 31을 312보다 먼저 정답 문자열에 추가하면 된다.

compareTo도 그냥 이렇게 구현하면 된다.

`this`와 `other` 을 비교할 때, `String num1 = this.toString() + other.toString()` 과 `String num1 = other.toString() + this.toString()` 을 비교해주면 끝이다.

결국 comapreTo 코드는 정말 단순해진다.

```java
@Override
    public int compareTo(Number otherNumber) {
        if (this.length() == otherNumber.length()) {
            return otherNumber.integerValue() - this.integerValue();
        }
        String num1 = this.number + otherNumber.number;
        String num2 = otherNumber.number + this.number;
        return num2.compareTo(num1);
    }
```
> integerValue()는 String을 Integer값으로 바꾼 값이다.

num2 와 num1을 비교해서 num2가 더 크면 other을 먼저 내보내기만 하면 된다.

## 나는 알고리즘 문제를 왜 이렇게 못 풀까?

먼저 해당 방법을 공유해 주신 분에게 큰 감사의 말씀을 드린다. 정말 머리를 망치로 한 대 맞은 것 같았다. 너무 쉽게 해결할 수 있는 문제였다.

다르게 생각해보면, 나는 왜 이렇게 쉬운 방법을 생각하지 못했을까? 라는 생각이 들었다. 

두 개를 비교할 때, 왜 여러 가지 경우의 수를 전부 처리하려고 애썼을까 했다. 결국 핵심은 `두 수의 우선순위 비교`였는데, 그 부분을 계속 놓치고 있었다.

보통 내가 알고리즘 문제 풀이에 실패할 때는 위와 같은 경우다. 문제의 본질을 파악하지 못하고 너무 저차원적으로 문제에 접근한다.

이런 문제는 차후에 어플리케이션을 설계하는 과정에도 반드시 영향을 미칠 것이다.

설계를 하기 위해서는 저차원적인 시선에서도, 그리고 프로그램 전체를 바라보는 고차원적인 관점에서도 코드를 바라볼 수 있어야 한다.

그러나 지금의 나는 지나치게 작은 부분에만 온 시선이 매몰되는 경향이 있다. 이미 가벼운 어플리케이션들을 설계하면서 이런 문제를 종종 확인하곤 해왔다.

더 적어봐야 내 단점만 줄줄이 늘어놓는 꼴이니 말을 줄이겠다만, 참 해결하기 어려운 문제임과 동시에 반드시 해결해야 하는 문제다.

해당 방법을 어떻게 연습해야할지는 지금 당장은 모르겠지만, 주변의 지인들과 좀 더 많이 대화를 나누며 발전해보자.
